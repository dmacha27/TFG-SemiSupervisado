{% extends "base_configuracion.html" %}
{%  from "macros.html" import selector %}
{% block parametros %}
    <div class="mb-3">
        {{ selector("clasificador1", clasificadores) }}
    </div>
    <div class="parametros" id="parametros"></div>
    <br>
    <div class="mb-3">
        <label for="n">{{ gettext('N (Number of instances to select in each iteration)') }}:</label>
        <input type="number" class="form-control" id="n" min="0" max="Infinity" required oninput="limitarUnicoMetodoST(this.value,'th')" name="n" value="10">
    </div>
    <div class="mb-3">
        <label for="th">{{ gettext('Threshold') }}:</label>
        <input type="number" class="form-control" id="th" min="0" max="0.99" step="any" oninput="limitarUnicoMetodoST(this.value,'n')" name="th" disabled>
    </div>
    <div class="mb-3">
        <label for="n_iter">{{ gettext('Number of iterations') }}:</label>
        <input type="number" class="form-control" id="n_iter" required name="n_iter" value="10">
    </div>
{% endblock %}
{% block form_scripts %}
    <script>
        const clasificador = document.querySelector('#clasificador1');
        const div_parametros= document.querySelector('#parametros');

        const todos_parametros = {{ parametros|tojson }};

        clasificador.addEventListener('change', (event) => {
            generarFormParametros(event.target.value, div_parametros, "clasificador1");
        });

        generarFormParametros(clasificador.value, div_parametros, "clasificador1");
    </script>
{% endblock %}
{% block explicaciones %}
    <p>Se trata del método de aprendizaje semi-supervisado más
        sencillo y «directo». Este método envuelve un único clasificador base, que
        entrena con los datos etiquetados iniciales y aprovecha el proceso de pseudo
        etiquetado para continuar su entrenamiento.
        El método comienza por entrenar ese clasificador con los datos etiquetados
        que se tienen. A partir de este aprendizaje inicial, se etiqueta el resto de
        datos. De todas las nuevas predicciones se seleccionan aquellas en las que el
        clasificador más confianza tiene (de haber acertado). Una vez seleccionados,
        el clasificador es reentrenado con la unión de los ya etiquetados y estos
        nuevos. El proceso continúa hasta un criterio de parada (generalmente hasta
        etiquetar todos los datos o un número máximo de iteraciones).</p>
    <img src="/static/pseudocodigos/SelfTraining.png" width="75%" />
{% endblock %}