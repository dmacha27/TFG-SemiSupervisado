{% extends "base_configuracion.html" %}
{%  from "macros.html" import selector %}
{% block parametros %}
    <div class="mb-3">
        {{ selector("clasificador1", clasificadores) }}
    </div>
    <div class="parametros" id="parametros1"></div>
    <br>
    <div class="mb-3">
        {{ selector("clasificador2", clasificadores) }}
    </div>
    <div class="parametros" id="parametros2"></div>
    <br>
    <div class="mb-3">
        {{ selector("clasificador3", clasificadores) }}
    </div>
    <div class="parametros" id="parametros3"></div>
    <br>
{% endblock %}
{% block form_scripts %}
    <script>
        const clasificador1 = document.querySelector('#clasificador1');
        const clasificador2 = document.querySelector('#clasificador2');
        const clasificador3 = document.querySelector('#clasificador3');

        const div_parametros1 = document.querySelector('#parametros1');
        const div_parametros2 = document.querySelector('#parametros2');
        const div_parametros3 = document.querySelector('#parametros3');

        const todos_parametros = {{ parametros|tojson }};

        clasificador1.addEventListener('change', (event) => {
            generarFormParametros(event.target.value, div_parametros1, "clasificador1");
        });

        clasificador2.addEventListener('change', (event) => {
            generarFormParametros(event.target.value, div_parametros2, "clasificador2");
        });

        clasificador3.addEventListener('change', (event) => {
            generarFormParametros(event.target.value, div_parametros3, "clasificador3");
        });

        generarFormParametros(clasificador1.value, div_parametros1, "clasificador1");
        generarFormParametros(clasificador2.value, div_parametros2, "clasificador2");
        generarFormParametros(clasificador3.value, div_parametros3, "clasificador3");
    </script>
{% endblock %}
{% block explicaciones %}
    <p>{{ gettext('Democratic Co-Learning is a semi-supervised learning algorithm along the lines of Co-Training
        (various classifiers). The substantial difference is that they do not work with two (or
        more) set of attributes, in this case there is only one set of attributes ("single-view").
        Starting with the labelled data, several classifiers do a weighted voting over those not labelled.
        That means that, for an instance, its new label will be the one voted by the majority.
        Furthermote, for those classifiers that do not vote as the majority, the instance (with the majority label)
        is added to their training set. This forces those misclassified classifiers to learn it in the next iteration.
        The entire process is repeated until no more instances are added to any training set, this is achieved when
        the accuracy does not improve despite the addition of new pseudo-labelled instances.') }}</p>

    <img src="{{ gettext('/static/pseudocodigos/en/DemocraticCoLearningFit.png') }}" width="75%" />
    <img src="{{ gettext('/static/pseudocodigos/en/DemocraticCoLearningCombine.png') }}" width="75%" />
{% endblock %}