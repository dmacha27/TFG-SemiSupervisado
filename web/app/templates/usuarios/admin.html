{% extends "base.html" %}
{%  from "macros.html" import table_scripts_links,datasettable, historytable, modaleliminar, modalejecutar %}
{% block head %}
    {{ super() }}
    {{ table_scripts_links() }}
    <script type="module" src="/js/adminpanel.js"></script>
{% endblock %}
{% block content %}
    <button id="btn_volver" type="button" onclick="history.back()" class="btn sticky-top">
        <i class="bi bi-caret-left-fill"></i>{{ gettext('Go back') }}</button>
    <div class="text-center pb-3">
        <h2>{{ gettext('Admin panel') }}</h2>
        <hr class="separacion" style="width: 20rem;"/>
    </div>

    <div class="rounded-4 p-4 m-4 shadow-lg">
        <div class="container-fluid mb-4">
            <div class="row">
                <div class="text-center">
                    <h4>{{ gettext('Uploaded datasets') }}</h4>
                    <hr class="separacion" style="width: 8rem;"/>
                </div>
                <div class="col-md-11 my-4">
                    {{ datasettable() }}
                </div>
                <div class="col-md-1">
                    <div class="rounded-4 p-2 my-4 shadow d-flex flex-column justify-content-center align-items-center text-center sticky-top">
                        <span id="recent_datasets" class="fs-1"></span>
                        <span>{{ gettext('Last 7 days uploads') }}</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="text-center">
                    <h4>{{ gettext('Run history') }}</h4>
                    <hr class="separacion" style="width: 8rem;"/>
                </div>
                <div class="col-md-11 my-4">
                    {{ historytable() }}
                </div>
                <div class="col-md-1">
                    <div class="rounded-4 p-2 my-4 shadow d-flex flex-column justify-content-center align-items-center text-center sticky-top">
                        <span id="recent_runs" class="fs-1"></span>
                        <span>{{ gettext('Last 7 days runs') }}</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    {{ modaleliminar() }}

    {{ modalejecutar() }}

{% endblock %}

